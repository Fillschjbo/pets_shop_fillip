import{A as s,h as c}from"./header-vZF85M1c.js";async function i({email:t,password:r}){try{const o=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:r})}),e=await o.json(),n=e.data.accessToken,a=e.data.name;if(localStorage.setItem("token",n),localStorage.setItem("user",a),!o.ok)throw new Error(`Error: ${o.status}`);return e}catch(o){console.error(o),alert("Failed to fetch login: "+o.message)}}async function l(t){t.preventDefault();const r=document.getElementById("email").value,o=document.getElementById("password").value;try{const e=await i({email:r,password:o});e&&e.data&&e.data.accessToken?window.location.href="/":alert("Login failed")}catch(e){console.error("Error during login:",e),alert("An error occurred during login.")}}const d=document.forms.login;d.addEventListener("submit",l);c();
